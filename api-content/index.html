{"posts":[{"title":"设计模式之单例模式","content":"1、单例模式 Singleton 简介 单例就是保证一个类只有一个实例，实现的方法一般是先判断实例是否存在，如果存在直接返回，如果不存在就创建了再返回，确保了一个类只有一个实例对象，在JavaScript里，单例作为一个命名空间提供者，从全局命名空间里提供一个唯一的访问点来访问该对象 作用和注意事项 作用 模块间通信 在系统中某个类的对象只能存在一个 保护自己的属性和方法，创建一个命名空间，防止不同的人命名变量的冲突 注意事项 注意 this 的使用 闭包容易造成内存泄漏，不需要的要清理 注意 new 的成本 当超过一个县线程想要获取相同资源的时候，竞争就会出现，单例模式很容易受到竞争的影响，因此如果实例一开始没有被初始化，两个现象可能就会创建两个对象而不是返回实例，因此在开发者在多线程中实现单例时，必须要保证同步 类比： 如果有十个人在办公室，并且他们都需要用一台打印机，十台电脑共享了打印机（实例）通过共享了一个打印机，他们分享了相同的资源 个人理解 开创一个命名空间，对象实例创建在命名空间中，用一个变量来标志当前是否已经为某个类创建过对象，如果是，则在下次获取该实例的时候，直接返回之前创建的对象 使用场景： 单例模式是一种常用的模式，有一些对象我们往往只需要一个，比如全局缓存、浏览器的window对象。在js开发中，单例模式的用途同样非常广泛。试想一下，当我们 单击登录按钮的时候，页面中会出现一个登录框，而这个浮窗是唯一的，无论单击多少次登录按钮，这个浮窗只会被创建一次。因此这个登录浮窗就适合用单例模式。 总结一下它的使用场景： 1、可以用它来划分命名空间 2、借助单例模式，可以把代码组织的更为一致，方便阅读与维护 // class Singleton { // private static instance: Singleton // private constructor () {} // static getInstance (): Singleton { // if (!Singleton.instance) { // Singleton.instance = new Singleton() // } // return this.instance // } // } // const singleton1 = Singleton.getInstance() // const singleton2 = Singleton.getInstance() // console.log(singleton1 === singleton2) // true class Singleton { private constructor(name: string, age: number) { this.name = name; this.age = age; } private static instance: Singleton; public name: string; public age: number; static getInstance(name: string, age: number): Singleton { if (!this.instance) { this.instance = new Singleton(name, age); } return this.instance; } } const singleton1 = Singleton.getInstance(&quot;Mary&quot;, 20); const singleton2 = Singleton.getInstance(&quot;Jack&quot;, 20); console.log(singleton1, singleton2); // Singleton { name: 'Mary', age: 20 } Singleton { name: 'Mary', age: 20 } ","link":"https://chasonhuang.github.io/post/she-ji-mo-shi-zhi-dan-li-mo-shi/"},{"title":"Hello Gridea123","content":"👏 欢迎使用 Gridea ！ ✍️ Gridea 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ... Github Gridea 主页 示例网站 特性👇 📝 你可以使用最酷的 Markdown 语法，进行快速创作 🌉 你可以给文章配上精美的封面图和在文章任意位置插入图片 🏷️ 你可以对文章进行标签分组 📋 你可以自定义菜单，甚至可以创建外部链接菜单 💻 你可以在 Windows，MacOS 或 Linux 设备上使用此客户端 🌎 你可以使用 𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌 或 Coding Pages 向世界展示，未来将支持更多平台 💬 你可以进行简单的配置，接入 Gitalk 或 DisqusJS 评论系统 🇬🇧 你可以使用中文简体或英语 🌁 你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力 🖥 你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步 🌱 当然 Gridea 还很年轻，有很多不足，但请相信，它会不停向前 🏃 未来，它一定会成为你离不开的伙伴 尽情发挥你的才华吧！ 😘 Enjoy~ ","link":"https://chasonhuang.github.io/post/hello-gridea/"}]}